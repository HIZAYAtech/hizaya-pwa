<!doctype html>
<meta name="theme-color" content="#0ea5e9" />
<link rel="manifest" href="manifest.json" />
<link rel="icon" href="icons/icon-192.png" sizes="192x192" />
<link rel="apple-touch-icon" href="icons/icon-192.png" />
<style>
:root { --bg:#0b1220; --card:#0f172a; --ink:#e2e8f0; --muted:#94a3b8; --brand:#0ea5e9; }
html,body{margin:0;height:100%;background:var(--bg);color:var(--ink);font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif}
.wrap{max-width:960px;margin:0 auto;padding:24px}
.card{background:var(--card);border-radius:16px;padding:20px;box-shadow:0 6px 24px rgba(0,0,0,.3)}
h1{margin:0 0 16px;font-size:24px}
h2{margin:20px 0 8px;font-size:18px}
button{background:var(--brand);color:#001119;border:0;border-radius:10px;padding:10px 14px;font-weight:700;cursor:pointer}
button.secondary{background:transparent;color:var(--ink);border:1px solid #1f2937}
label{display:block;margin:8px 0 4px;color:var(--muted)}
input,select{width:100%;padding:10px;border-radius:10px;border:1px solid #223;background:#0b132b;color:var(--ink)}
.row{display:grid;grid-template-columns:1fr 1fr 1fr;gap:12px}
table{width:100%;border-collapse:collapse;margin-top:12px}
th,td{padding:10px;border-bottom:1px solid #223;text-align:left}
.muted{color:var(--muted)}
.hidden{display:none}
</style>
</head>
<body>
<div class="wrap">
<div class="card">
<h1>HIZAYA — Pairing Console</h1>
<p class="muted" id="status">Déconnecté.</p>


<div id="auth">
<button id="btn-login">Se connecter avec Google</button>
</div>


<div id="authed" class="hidden">
<p>Connecté en tant que <strong id="who"></strong></p>
<button id="btn-logout" class="secondary">Se déconnecter</button>


<hr style="margin:16px 0;opacity:.2" />


<h2>Enregistrer un device</h2>
<div class="row">
<div>
<label for="dev-name">Nom</label>
<input id="dev-name" placeholder="ROOM-A, PSU-1, etc." />
</div>
<div>
<label for="dev-mac">MAC</label>
<input id="dev-mac" placeholder="A8:42:E3:91:75:78" />
</div>
<div>
<label for="dev-role">Rôle</label>
<select id="dev-role">
<option>MASTER</option>
<option>SLAVE</option>
</select>
</div>
</div>
<div class="row" style="margin-top:12px">
<div>
<label for="dev-channel">Canal (optionnel)</label>
<input id="dev-channel" type="number" min="1" max="13" placeholder="6" />
</div>
<div style="align-self:end">
<button id="btn-save">Enregistrer</button>
</div>
</div>


<h2 style="margin-top:20px">Mes devices</h2>
<table id="tbl">
<thead>
<tr>
<th>Nom</th>
<th>MAC</th>
<th>Rôle</th>
<th>Canal</th>
<th>Créé</th>
<th></th>
</tr>
</thead>
<tbody id="rows"></tbody>
</table>
</div>
</div>
</div>


<script>
// En prod (GitHub Pages), enregistre le service worker (optionnel)
if ('serviceWorker' in navigator) {
window.addEventListener('load', () => {
navigator.serviceWorker.register('./sw.js').catch(console.warn);
});
}
</script>


<!-- Modules JS -->
<script type="module" src="./app.js"></script>
</body>
</html>
